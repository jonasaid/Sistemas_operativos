library ieee;
use ieee.std_logic_1164.all;

entity Registros is port(
    d: in std_logic_vector (6 downto 0);
    es, clk, clr: in std_logic;
    oper : in std_logic_vector(1 downto 0);
    q: out std_logic_vector(6 downto 0)
);
end Registros;


architecture ARegistros of Registros is
    begin
        process(clr, clk)
            begin
                if (clr = '1') then
                    q <= "0000000";
                elsif (rising_edge(clk)) then
                    if (oper = "01") then
                        q <= d;
                    elsif (oper = "11") then --corrimiento a la derecha
                        for i in 0 to 10 loop
                            if (i < 5) then
                                q(i) <= q(i+1);
                                else
                                    q(i) <= ES;
                            end if;    
                        end loop;
                end if;
         
        end process;

end ARegistros;        